import{j as e,r as m}from"./index-DE460G-O.js";function d({plan:a={},onRemove:i}){const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],o=["Breakfast","Lunch","Dinner"];return e.jsxs("div",{className:"card",children:[e.jsx("h3",{children:"Your Weekly Plan"}),e.jsx("div",{className:"grid",style:{gridTemplateColumns:"repeat(7,1fr)"},children:t.map(l=>e.jsxs("div",{className:"stack",children:[e.jsx("strong",{children:l}),o.map(n=>{const s=a?.[l]?.[n];return e.jsxs("div",{className:"card",style:{padding:".6rem"},children:[e.jsxs("div",{className:"row",children:[e.jsx("span",{children:n}),s?e.jsx("button",{className:"btn",onClick:()=>i?.(l,n),children:"Remove"}):e.jsx("span",{className:"badge",children:"empty"})]}),s&&e.jsx("p",{style:{marginTop:".4rem"},children:s.title})]},n)})]},l))})]})}function h(){const[a,i]=m.useState(()=>JSON.parse(localStorage.getItem("mealmate:plan")||"{}"));function t(s){i(s),localStorage.setItem("mealmate:plan",JSON.stringify(s))}function o(s,c){const r=structuredClone(a);r?.[s]?.[c]&&delete r[s][c],t(r)}function l(){t({})}const n=m.useMemo(()=>{let s=0;return Object.values(a).forEach(c=>Object.values(c||{}).forEach(r=>r&&s++)),{meals:s}},[a]);return e.jsxs("div",{className:"stack",children:[e.jsxs("div",{className:"row",children:[e.jsx("h2",{children:"Meal Plan"}),e.jsxs("div",{className:"row",style:{gap:".5rem"},children:[e.jsxs("span",{className:"badge",children:[n.meals," meals scheduled"]}),e.jsx("button",{className:"btn",onClick:l,children:"Clear"})]})]}),e.jsx(d,{plan:a,onRemove:o})]})}export{h as default};
