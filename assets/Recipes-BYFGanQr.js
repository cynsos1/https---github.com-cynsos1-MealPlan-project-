import{r as l,j as e}from"./index-DE460G-O.js";function b({onSearch:n}){const[a,s]=l.useState("");function i(r){r.preventDefault(),n?.(a)}return e.jsxs("form",{className:"row",onSubmit:i,children:[e.jsx("input",{className:"input",placeholder:"Search by title, ingredient, or tagâ€¦",value:a,onChange:r=>s(r.target.value)}),e.jsx("button",{className:"btn primary",type:"submit",children:"Search"})]})}function j({recipe:n,onAdd:a}){if(!n)return null;const{title:s,image:i,calories:r,protein:d,carbs:m,fat:t}=n;return e.jsxs("div",{className:"card",children:[e.jsx("img",{className:"thumb",src:i,alt:s,loading:"lazy"}),e.jsx("h3",{children:s}),e.jsxs("p",{className:"row",children:[e.jsxs("span",{className:"badge",children:[r," kcal"]}),e.jsxs("span",{className:"badge",children:["P ",d,"g"]}),e.jsxs("span",{className:"badge",children:["C ",m,"g"]}),e.jsxs("span",{className:"badge",children:["F ",t,"g"]})]}),e.jsxs("div",{className:"row",children:[e.jsx("button",{className:"btn",onClick:()=>a?.(n),children:"Add to plan"}),e.jsx("button",{className:"btn",onClick:()=>navigator.clipboard.writeText(s),children:"Copy name"})]})]})}const h=[{id:1,title:"Greek Yogurt Parfait",image:"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?q=80&w=1200&auto=format&fit=crop",calories:320,protein:24,carbs:35,fat:10,ingredients:["Greek yogurt","Granola","Strawberries","Honey"],tags:["breakfast","high-protein"]},{id:2,title:"Salmon & Veg Rice Bowl",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=1200&auto=format&fit=crop",calories:540,protein:38,carbs:52,fat:18,ingredients:["Salmon","Rice","Broccoli","Sesame"],tags:["lunch","omega-3"]},{id:3,title:"Chicken Salad Wrap",image:"https://images.unsplash.com/photo-1551183053-bf91a1d81141?q=80&w=1200&auto=format&fit=crop",calories:410,protein:29,carbs:34,fat:16,ingredients:["Chicken","Tortilla","Lettuce","Yogurt"],tags:["lunch","meal-prep"]}];async function S(n=""){const a=n.trim().toLowerCase();return a?h.filter(s=>s.title.toLowerCase().includes(a)||s.ingredients.some(i=>i.toLowerCase().includes(a))||s.tags.some(i=>i.toLowerCase().includes(a))):h}function w(){const[n,a]=l.useState([]),[s,i]=l.useState(()=>JSON.parse(localStorage.getItem("mealmate:plan")||"{}"));l.useEffect(()=>{r("")},[]);async function r(t){const u=await S(t);a(u)}function d(t){i(t),localStorage.setItem("mealmate:plan",JSON.stringify(t))}function m(t){const u=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],g=["Breakfast","Lunch","Dinner"],p=new Date().getDay(),o=u[p===0?6:p-1],c=structuredClone(s);c[o]=c[o]||{};const f=g.find(x=>!c[o][x])||"Dinner";c[o][f]={id:t.id,title:t.title},d(c)}return e.jsxs("div",{className:"stack",children:[e.jsx("h2",{children:"Recipes"}),e.jsx(b,{onSearch:r}),n.length===0?e.jsx("div",{className:"card",style:{textAlign:"center"},children:"No recipes found."}):e.jsx("div",{className:"grid",children:n.map(t=>e.jsx(j,{recipe:t,onAdd:m},t.id))})]})}export{w as default};
